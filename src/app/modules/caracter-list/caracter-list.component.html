
<div class="h-full flex flex-col space-y-4">

    <app-filters></app-filters>

    <div class="flex flex-col space-y-2 sm:flex-row sm:justify-center sm:space-x-2 sm:space-y-0">
        <button mat-raised-button color="accent"
        (click)="goToDetail()">
            <mat-icon class="mr-2">
                view_column
            </mat-icon>
            <span>Go to details</span>
        </button>

        <button mat-raised-button color="accent"
        (click)="clearSelection()">
            <mat-icon class="mr-2">
                autorenew
            </mat-icon>
            <span>Clear selection</span>
        </button>

    </div>

    <div class="text-gray-900 text-2xl font-medium text-center">
        Number of selected characters: {{selectedCharactersCount}}
    </div>

    <div class="flex-grow overflow-y-auto flex flex-col space-y-2  custom-scrollbar sm:pr-3 shadow p-4 rounded-2xl">
        <ng-container *ngFor="let caracter of caracters; index as index">
            <div class="cursor-pointer rounded-2xl flex flex-col sm:flex-row border-2 border-gray-200 hover:border-purple-700 shadow hover:shadow-lg justify-center sm:justify-between items-center sm:space-x-4"
            (click)="selectCaracter(caracter)"
            [ngClass]="{'bg-purple-100 border-0 hover:shadow-none' : selectedCharactersIds.includes(caracter.id),
            'bg-white' : !selectedCharactersIds.includes(caracter.id)}">
                
                <div class="flex items-center space-x-4 w-full sm:w-2/5 flex-shrink-0 justify-start">
                    <div class="h-20 w-20 rounded-2xl sm:rounded-l-2xl p-3 sm:p-1 flex-shrink-0">
                        <img class="rounded-2xl sm:rounded-l-2xl" src="{{caracter.image}}" alt="{{caracter.name}}">
                    </div>
                    <div class="text-xl sm:text-2xl font-medium text-gray-900 sm:truncate">
                        {{caracter.name}}
                    </div>
                </div>
                
                <div class="flex flex-col h-full text-gray-700 justify-center sm:justify-between w-full sm:w-2/5 px-3 sm:p-4 text-left">
                    <div class="truncate">
                        <span>Status:</span> {{caracter.status | titlecase }}
                    </div>
                    <div class="truncate">
                        <span>Location:</span> {{caracter.location.name}}
                    </div>
                </div>
    
                <div class="flex flex-col h-full text-gray-700 justify-center sm:justify-between w-full sm:w-1/5 px-3 pb-3 sm:p-4 text-left">
                    <div class="truncate">
                        <span>Specie:</span> {{caracter.species}}
                    </div>
                    <div class="truncate">
                        <span>ID:</span> {{caracter.id}}
                    </div>
                </div>
            </div>
        </ng-container>
    </div>
    <mat-paginator [disabled]="isLoading" [length]="totalCharacters" [pageSize]="20" 
        (page)="changePage($event)"
        class="rounded-2xl">
    </mat-paginator>

</div>
    
